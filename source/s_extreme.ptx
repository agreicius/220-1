<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="s_extreme" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Extreme value theorem</title>
    <objectives>
        <ol>
            <li>
                <p>
                    Use the derivative to investigate optimization questions. 
                </p>
            </li>
            <li>
                <p>
                    Understand the extreme value theorem in the context of optimization. 
                </p>
            </li>
            <li>
                <p>
                Define absolute and local maximum and minimum values of a function on a given set <m>D</m>. 
                </p>
            </li>
            <li>
                <p>
                    Identify extreme values of a function graphically. 
                </p>
            </li>
            <li>
                <p>
                    Introduce the notion of critical points as potential inputs where a function attains a local (or absolute) maximum or minimum. 
                </p>
            </li>
            <li>
                <p>
                    Develop a procedure that determines the absolute maximum and minimum values of a continuous function on a closed finite interval. 
                </p>
            </li>
        </ol>
    </objectives>
    <p>
        In our remaining lessons, we will frequently take up what are called <em>optimization</em> questions. Roughly speaking, these are questions related to the maximum and minimum values of a function on a given set. Optimization problems are naturally important in modeling situations: when modeling a quantity <m>q</m> as a function <m>q=f(s)</m> of some other quantity <m>s</m>, we naturally are interested in knowing whether it attains a maximal or minimal value, what that maximal or minimal value is (if it exists), and which inputs <m>s</m> produces this value. The <xref ref="th_extreme" text="custom">extreme value theorem</xref> represents a wonderfully straightforward to this first flavor of optimization problem: it tells us that if <m>f</m> is continuous on the closed interval <m>[a,b]</m>, then there is guaranteed to be both a maximal and minimal value. A shortcoming of this theorem is that it gives no indication of what exactly these maximum/minimum values are (or how to find them)! We amend this situation in <xref ref="proc_extreme"/>. 
    </p>
    <p>
        The statement of the extreme value theorem involves the notion of an absolute maximum/minimum value of a function <m>f</m> on a given set <m>D</m>. Imagining this is intuitively clear to the reader, we launch straight into a discussion of the extreme value theorem. Afterward, we give precise definitions both for absolute and <em>local</em> maximum and minimum values. If you would like to see those definitions first, see <xref ref="d_extrema"/>.
    </p>
    <theorem xml:id="th_extreme">
        <title>Extreme value theorem</title>
        <statement>
            <p>
                If <m>f</m> is continuous on the closed interval <m>I=[a,b]</m>, then there are inputs <m>c</m> and <m>d</m> for which <m>f(c)</m> is the absolute maximum value of <m>f</m> on <m>I</m> and <m>f(d)</m> is the absolute minimum value of <m>f</m> on <m>I</m>. In plain English: a continuous function always attains a maximum and minimum value over a closed interval <m>[a,b]</m>. 
            </p>
        </statement>
        <proof>
            <p>
                The proof of this intuitive statement is just beyond our reach in terms of our current conceptual framework: we are missing only the notion of least upper bounds. In later math courses, like real analysis and topology, you develop an exceedingly important concept called <em>compactness</em> that allows you to eventually give a beautiful one-line proof of the extreme value theorem.   
            </p>
        </proof>
    </theorem>
    <p>
        Although we do not give an actual proof the extreme value theorem, you can catch a glimmer of its truth by treating it graphically. Try the following: pick an interval <m>[a,b]</m> in the <m>xy</m>-plane; pick endpoint values <m>f(a)</m> and <m>f(b)</m> for an arbitrary function <m>f</m> and graph the corresponding points; now trace out the rest of the graph of your arbitrary <m>f</m>, making it as wildly behaved as you like, but with the restriction that you pencil never leaves the paper (<m>f</m> is continuous) and the start and end values are <m>f(a)</m> and <m>f(b)</m>. You will see that now matter what function you end up sketching, it will always have reach a well-defined highest point (corresponding to the maximum value) and a well-defined lowest point (corresponding to the minimum value). The restriction that we cannot lift our pencil prevents our graph from going arbitrarily high (or low), or from getting arbitrarily close to a highest point but not actually hitting it.  
    </p>
    <p>
        Perhaps a more illustrative means of understanding the role of continuity in the extreme value theorem is to consider examples where this condition is removed. 
    </p>
    <example xml:id="eg_extreme_discontinuous">
    <title>Extreme values: discontinuous</title>
    <statement>
    <p>
    The functions <m>f</m> and <m>g</m> graphed below illustrate how crucial continuity is to the extreme value theorem. 
    </p>
    <figure xml:id="fig_extreme_disc">
        <caption>Extreme values and discontinuous functions</caption>
        <sidebyside valign="bottom">
            <figure xml:id="fig_extreme_asym">
                <caption>Graph of <m>f</m></caption>
                <image xml:id="im_extreme_asym">
                    <shortdescription>Graph of <m>f</m> has a vertical asymptote</shortdescription>
                    <sageplot>
                        f=plot(1/(x-2),x,1,3,xmin=1, ymin=-4, ymax=4,detect_poles=show, aspect_ratio=.4)
                        A=plot(0,x,0,3)
                        L=line(((2,-5),(2,5)),color="red", linestyle="dotted")
                        t=text("$f(x)$", (2.75,4),color="black", fontsize="16")
                        P=point((2,0),size=50)
                        f+L+A+t+P
                    </sageplot>   
                </image>
            </figure>
            <figure xml:id="fig_extreme_remove">
                <caption>Graph of <m>g</m></caption>
                <image xml:id="im_extreme_remove">
                    <shortdescription>Graph of <m>g</m> has a removable discontinuity</shortdescription>
                    <sageplot>
                        f=plot(3*(x-1)^2,x,1,1.99)
                        g=plot(3*((x-3))^2,x,2.01,3)
                        A=plot(0,x,0,3)
                        C=circle((2,3),.05,color="blue")
                        t=text("$g(x)$", (2.75,2),color="black", fontsize="16")
                        P=point((2,1),size=50)
                        f+A+t+P+g+C
                    </sageplot>   
                </image>
            </figure>
        </sidebyside>
    </figure>
    <p>
        The function <m>f</m> has infinite one-sided limits at <m>2</m>, and as a consequence has neither a maximum nor a minimum value on the closed interval <m>[1,3]</m>. 
    </p>
    <p>
        The function <m>g</m> has values that get arbitrarily close to but not equal to <m>5</m>, thanks to the removable discontinuity. As a result, <m>g</m> has no maximum value on the interval: we have <m>g(x)&lt; 5</m> for all <m>x\in [1,3]</m>, and for any value <m>L</m> less than <m>5</m>, there is an input <m>c\in [1,3]</m> with <m>g(c)&gt; L</m>. 
    </p>
    </statement>
    </example>
    <example xml:id="eg_extreme_open">
    <title>Extreme values: open interval</title>
    <statement>
    <p>
    As illustrated below, the function <m>f(x)=\tan x</m> has no absolute maximum or minimum value on the <em>open</em> interval <m>(-\pi/2, \pi/2)</m>. This illustrates why the extreme value theorem insists that the finite interval in question must be <em>closed</em>.
    <figure xml:id="fig_extreme_open">
        <caption>Graph of <m>f(x)=\tan x</m></caption>
        <image xml:id="im_extreme_open" width="50%">
            <shortdescription>Graph of the tangent function</shortdescription>
            <sageplot>
                f=plot(tan(x), x,-pi/2+.01, pi/2-.01, detect_poles=show, tick_formatter=(pi,None), ymin=-10, ymax=10, aspect_ratio=.2)
                L=line(((-pi/2,-10),(-pi/2,10)), color="red", linestyle="dotted")
                M=line(((pi/2,-10),(pi/2,10)), color="red", linestyle="dotted")
                f+L+M
            </sageplot>
        </image>
    </figure> 
    </p>
    </statement>
    </example>
    
    <definition xml:id="d_extrema">
        <title>Extreme values</title>
        <statement>
            <p>
               Assume <m>f</m> is defined on the set <m>D\subseteq \mathbb{R}</m>, and let <m>a</m> be an element of <m>D</m>.
               <ul>
                <li>
                    <p>
                       <m>f(a)</m> is an absolute maximum value of <m>f</m> on <m>D</m> if <m>f(a)\geq f(x)</m> for all <m>x\in D</m>.  
                    </p>
                </li>
                <li>
                    <p>
                       <m>f(a)</m> is an absolute minimum value of <m>f</m> on <m>D</m> if <m>f(a)\leq f(x)</m> for all <m>x\in D</m>.  
                    </p>
                </li>
                <li>
                    <p>
                       <m>f(a)</m> is a local maximum value of <m>f</m> on <m>D</m> if <m>f(a)\geq f(x)</m> for all <m>x\in D</m> sufficiently close to <m>a</m>.  
                    </p>
                </li>
                <li>
                    <p>
                       <m>f(a)</m> is a local minimum value of <m>f</m> on <m>D</m> if <m>f(a)\leq f(x)</m> for all <m>x\in D</m> sufficiently close to <m>a</m>.  
                    </p>
                </li>
                <li>
                    <p>
                        <m>f(a)</m> is an extreme value of <m>f</m> on <m>D</m> if it is an absolute or local maximum or minimum value of <m>f</m> on <m>D</m>. 
                    </p>
                </li>
               </ul> 
            </p>
        </statement>
    </definition>
    <remark>
        <title>Local extreme values</title>
        <p>
            In <xref ref="d_extrema"/> the phrase <q>sufficiently close to <m>a</m></q> is used as a convenient, but slightly less than rigorous shorthand. 
            To be more precise in this definition we treat interior and endpoints of the set <m>D</m> separately.
        </p>
            <p>Given an interior point <m>a\in D</m>, we say that <m>f(a)</m> is a local maximum (resp., minimum) value of <m>f</m> on <m>D</m> if there is an open interval <m>I=(c,d)\subseteq D</m> containing <m>a</m> such that <m>f(a)</m> is an absolute maximum (resp., minimum) value on <m>I</m>.
        </p>
        <p>
            Similarly, if <m>a</m> is a left (resp., right) endpoint of <m>D</m>, then <m>f(a)</m> is a local maximum (resp., minimum) value of <m>f</m> on <m>D</m> if there is a half-open interval <m>I=[a,c)</m> (resp., <m>I=(c,a]</m>) contained in <m>D</m> such that <m>f(a)</m> is an absolute maximum (resp., minimum) value on <m>I</m>.
        </p>
        <p>
            In summary, for <m>f(a)</m> to be a local maximum or minimum value on <m>D</m> means simply that there is some interval (or half-interval in the endpoint case) <m>I</m> contained in <m>D</m> on which <m>f(a)</m> is an absolute maximum or minimum value. Thus to identify graphically the local extreme values of a function <m>f</m>, look for inputs <m>a</m> such that when we restrict our gaze to the segment of the graph of <m>f</m> lying over a small interval around <m>a</m>, <m>f(a)</m> is seen to be an absolute maximum or minimum value.  
        </p> 
    </remark>
    <example xml:id="eg_local_extrema">
    <title>Local and absolute extreme values</title>
    <statement>
    <p>
    A graph of the function <m>f</m> on the interval <m>I=[-4,4]</m> is graphed below. 
    <ol>
        <li>
            <p>
                Identify all and any inputs <m>a</m> where <m>f(a)</m> has a local maximum or minimum value of <m>f</m> on <m>I</m>. 
            </p>
        </li>
        <li>
            <p>
                Decide whether <m>f</m> has an absolute maximum value on <m>I</m>, and whether <m>f</m> has an absolute minimum value on <m>I</m>. 
            </p>
        </li>
    </ol>
    </p>
    <figure xml:id="fig_local_extrema">
        <caption>Graph of <m>f</m></caption>
        <image xml:id="im_local_extrema" width="50%">
            <shortdescription>Graph of function with various local extrema</shortdescription>
            <sageplot>
                f=plot(-x-2,x,-5,-1, ticks=[[-4,-3,-2,-1,1,2,3,4],[-6,-5,-4,-3,-2,1,2,3,6]])
                g=plot(-(x-1)^2+3,-1,3.99)
                C=circle((4,-6),0.1)
                P=point((4,-2),color="blue", size=50)
                t=text("$f(x)$",(-2.5,2), color="black", fontsize=16)
                f+g+C+P+t
            </sageplot>
        </image>
    </figure>
    </statement>
    <solution>
    <p>
    <ol>
        <li>
            <p>
               The  
            </p>
        </li>
    </ol>
    </p>
    </solution>
    </example>
    
    
    <theorem xml:id="th_crit_pt">
        <title>Critical points and extreme values</title>
        <creator>Fermat</creator>
        <statement>
            <p>
                Assume <m>f</m> is defined on <m>D</m> and that <m>a</m> is an interior point of <m>D</m>. If <m>f(a)</m> is a local maximum or minimum value of <m>f</m> on <m>D</m>, and if <m>f</m> is differentiable at <m>a</m>, then <m>f'(a)=0</m>.  
            </p>
        </statement>
    </theorem>
    <definition xml:id="d_crit_pt">
    <title>Critical point</title>
    <statement>
    <p>
    Let <m>f</m> be defined on <m>D</m>. An element <m>a\in D</m> is a <term>critical point</term> of <m>f</m> if either <m>f'(a)=0</m> or <m>f</m> is not differentiable at <m>a</m>. 
    </p>
    </statement>
    </definition>
    <algorithm xml:id="proc_extreme">
        <title>Extreme value theorem</title>
        <statement>
            <p>
                Assume <m>f</m> is continuous on the closed interval <m>I=[a,b]</m>. To determine the absolute maximum and minimum values of <m>f</m> on <m>I</m>, proceed as follows. 
                <ol>
                    
                    <li>
                        <title>Identify candidate inputs</title>
                        <p>
                            The candidate inputs where <m>f</m> potentially attains a maximum or minimum value consist of (i) the endpoints <m>a</m> and <m>b</m> of the interval <m>I</m> along with the set of all critical points of <m>f</m>. We determine the latter by finding all solutions to the equation 
                            <men xml:id="eq_extreme">
                                f'(x)=0
                            </men>
                            lying in <m>I</m>, and identifying all elements of <m>I</m> where <m>f</m> is not differentiable.
                        </p>
                    </li>
                    <li>
                        <title>Evaluate <m>f</m></title>
                        <p>
                           Evaluate <m>f</m> at all candidate inputs you found in Step 1.  
                        </p>
                    </li>
                    <li>
                        <title>Compare values</title>
                        <p>
                            Compare the values of <m>f</m> computed in Step 2. The maximum value in that set is the absolute maximum value of <m>f</m> on <m>I</m>; the minimum value in that set is the minimum value of <m>f</m> on <m>I</m>.   
                        </p>
                    </li>
                </ol>
            </p>
        </statement>
    </algorithm>
    <example xml:id="eg_extreme_factored_poly">
    <title>Extreme values: factored polynomial</title>
    <statement>
    <p>
        Let <m>f(x)=(x-2)^5(x-3)^5</m>. Find the absolute maximum and minimum values of <m>f</m> on the interval <m>I=[0,4]</m>.
    </p>
    </statement>
    <solution>
    <p>
    
    </p>
    </solution>
    </example>
    <example xml:id="eg_extreme_trig">
    <title>Extreme values: trig</title>
    <statement>
    <p>
        Let <m>f(x)=x+2\cos x</m>. Find the absolute maximum and minimum values of <m>f</m> on the interval <m>I=[0,2\pi]</m>.
    </p>
    </statement>
    <solution>
    <p>
    
    </p>
    </solution>
    </example>
    <example xml:id="eg_extreme_graphs">
    <title>Distance between graphs</title>
    <statement>
    <p>
    Let <m>f(x)=\sqrt[3]{x}</m> and <m>g(x)=3x</m>. Find the maximum vertical distance between the graphs of <m>f</m> and <m>g</m> on the interval <m>I=\left[-\frac{1}{\sqrt{27}}, \frac{1}{\sqrt{27}}\right]</m>
    </p>
    </statement>
    <solution>
    <p>
    
    </p>
    </solution>
    </example>
    
    


    

</section>